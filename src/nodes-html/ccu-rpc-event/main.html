<script type="text/html" data-template-name="ccu-rpc-event">
    <style>
        label.ccu-checkbox {
            display: block !important;
            width: auto !important;
        }
        label.ccu-checkbox input {
            width: auto !important;
            margin-top: -3px !important;
        }
        select.ccu-dropdown {
            width: 70%;
        }
    </style>

    <div class="form-row">
        <label for="node-input-ccuConfig"><i class="icon-globe"></i> CCU</label>
        <input type="text" id="node-input-ccuConfig">
    </div>

    <div class="form-row">
        <label for="node-input-topic"><i class="icon-tasks"></i> Topic</label>
        <input type="text" id="node-input-topic">
    </div>

    <div class="form-row">
        <label for="node-input-iface"><i class="fa fa-empire"></i> Interface</label>
        <select id="node-input-iface" class="ccu-dropdown">
            <option value="">*</option>
        </select>
    </div>

    <div class="form-row">
        <label for="node-input-rooms"><i class="icon-bookmark"></i> room</label>
        <input type="text" class="filter" id="node-input-rooms">
        <input type="hidden" id="node-input-roomsRx">
    </div>

    <div class="form-row">
        <label for="node-input-functions"><i class="icon-bookmark"></i> function</label>
        <input type="text" class="filter" id="node-input-functions">
        <input type="hidden" id="node-input-functionsRx">
    </div>

    <div class="form-row">
        <label for="node-input-device"><i class="icon-bookmark"></i> device</label>
        <input type="text" class="filter" id="node-input-device">
        <input type="hidden" id="node-input-deviceRx">
    </div>

    <div class="form-row">
        <label for="node-input-deviceName"><i class="icon-bookmark"></i> deviceName</label>
        <input type="text" class="filter" id="node-input-deviceName">
        <input type="hidden" id="node-input-deviceNameRx">
    </div>

    <div class="form-row">
        <label for="node-input-deviceType"><i class="icon-bookmark"></i> deviceType</label>
        <input type="text" class="filter" id="node-input-deviceType">
        <input type="hidden" id="node-input-deviceTypeRx">
    </div>

    <div class="form-row">
        <label for="node-input-channel"><i class="icon-bookmark"></i> channel</label>
        <input type="text" class="filter" id="node-input-channel">
        <input type="hidden" id="node-input-channelRx">
    </div>

    <div class="form-row">
        <label for="node-input-channelName"><i class="icon-bookmark"></i> channelName</label>
        <input type="text" class="filter" id="node-input-channelName">
        <input type="hidden" id="node-input-channelNameRx">
    </div>

    <div class="form-row">
        <label for="node-input-channelType"><i class="icon-bookmark"></i> channelType</label>
        <input type="text" class="filter" id="node-input-channelType">
        <input type="hidden" id="node-input-channelTypeRx">
    </div>

    <div class="form-row">
        <label for="node-input-channelType"><i class="icon-bookmark"></i> channelIndex</label>
        <input type="text" class="filter" id="node-input-channelIndex">
        <input type="hidden" id="node-input-channelIndexRx">
    </div>

    <div class="form-row">
        <label for="node-input-datapoint"><i class="icon-tag"></i> datapoint</label>
        <input type="text" class="filter" id="node-input-datapoint">
        <input type="hidden" id="node-input-datapointRx">
    </div>

    <div class="form-row">
        <label for="node-input-change"><i class="icon-bookmark"></i> </label>
        <div style="width: 70%; display: inline-block; vertical-align: text-top;">
            <label class="ccu-checkbox" for="node-input-change">
                <input type="checkbox" id="node-input-change">
                <span data-i18n="ccu-rpc-event.change"></span>
            </label>

            <label class="ccu-checkbox">
                <input type="checkbox" id="node-input-working">
                <span data-i18n="ccu-rpc-event.working"></span>
            </label>

            <label class="ccu-checkbox">
                <input type="checkbox" id="node-input-cache">
                <span data-i18n="ccu-rpc-event.cache"></span>
            </label>
        </div>
    </div>

    <div class="form-row">
        <label for="node-input-name"><i class="icon-bookmark"></i> Name</label>
        <input type="text" id="node-input-name">
    </div>
</script>

<script type="text/html" data-help-name="ccu-rpc-event" lang="de-DE">
    <p>Gibt RPC Events aus.</p>
    <h3>Konfiguration</h3>

    <ul>
        <li><b>CCU</b>: Die zu verwendende CCU-Konfiguration.</li>
        <li><b>topic</b>: <code>msg.topic</code> ausgehender Nachrichten. Kann mit Platzhaltern konfiguriert werden.</li>
        <li><b>interface</b>: Die Schnittstelle über welche die gewüschten Geräte angebunden sind. <code>*</code> erlaubt Events aller verbundenen Schnittstellen.</li>
        <li><b>room</b>: Raum Filter. Beispiel: <code>Wohnzimmer</code>.</li>
        <li><b>function</b>: Gewerk Filter. Beispiel: <code>Taster</code></li>
        <li><b>device</b>: Die Seriennummer der Homematic Komponente. Beispiel: <code>OEQ1662328</code></li>
        <li><b>deviceName</b>: Der in der CCU vergebene Name der Homematic Komponente. Beispiel: <code>Rauchmelder Arbeitszimmer</code>; alle Rauchemelder über RegEx: <code>Rauchmelder.*</code></li>
        <li><b>deviceType</b>: Die Typen-Bezeichnung der Homematic Komponente. Beispiel: <code>HM-Sec-SD-2</code></li>
        <li><b>channel</b>: Die Kanaladresse bestehend aus Serien- und Kanalnummer. Beispiel: <code>OEQ1245312:4</code></li>
        <li><b>channelName</b>: Der in der CCU vergebene Kanalname. Beispiel: <code>Bad Lichte Decke PIR</code></li>
        <li><b>channelType</b>: Der Typ des Kanals. Beispiel: <code>VIRTUAL_KEY</code> oder <code>DIMMER</code></li>
        <li><b>channelIndex</b>: Der Index des Kanals. Beispiel: <code>2</code>
        <li><b>datapoint</b>: Der Datenpunkt des Kanals. Beispiel: <code>PRESS_SHORT</code> oder <code>ACTUAL_TEMPERATURE</code>.</li>
        <li><b>Nur geänderte Werte ausgeben</b> - Ein Event wird nur dann erzeugt, wenn sich der Wert seit dem letztn Event verändert hat.</li>
        <li><b>Während WORKING keine Werte ausgeben</b> - Es gibt Aktoren, z.B. Dimmer oder Rolladen, die während einer Rampe (Öffnen/Schließen eines Rollladen, Dimmen einer Lampe) fortwährend den aktuellen Zustand ausgeben. Um nur den End-Status auszugeben kann diese Option benutzt werden. Gebräuchlich auch bei Verwendung mit Dashboard-Nodes um "springende" Slider zu verhindern.</li>
        <li><b>Beim Start letzten bekannten Wert ausgeben</b> - Wenn Node-RED gestartet wird, dann wird der letzte Wert (sofern in der ReGaHSS bekannt) ausgegeben. Z.B. um beim Start einen korrekten Wert an das Dashboard zu übergeben. <b>Achtung:</b> Wird durch die ausgegebene Nachricht im weiteren Verlauf des Flows ein Homematic Wert gesetzt wirkt sich jedes (Full-)Deployment negativ auf den DutyCycle aus.</li>
    </ul>

    <h3>Output</h3>
    <!-- TODO -->

    <!-- TODO Funktionsweise Filter erläutern -->
</script>

<script type="text/html" data-help-name="ccu-rpc-event" lang="en-US">
    <p>Outputs RPC events.</p>
</script>
